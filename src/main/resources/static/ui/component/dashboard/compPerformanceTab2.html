<meta charset="utf-8">
<script type="text/javascript">
    var <@compId> = {
             searchedRows : [] // 페이지
            ,region : ''
            ,supervisor : ''
            ,store : ''
            ,BRAND_ID : ''
            ,pageInit : () => {

                var now = new Date();   // 현재 날짜 및 시간
                var thisYear = now.getFullYear();   // 연도
                
                var startDate = new Date();
                startDate.setFullYear(startDate.getFullYear() - 5);// 현재년도의 과거 5년
                var startYear = startDate.getFullYear();   // 연도
                
                const yearsArray = Array.from({ length: 6 }, (_, index) => {
                      const year = startYear + index;
                      return [year.toString(), year + "년"];
                });
                
                var yearsArrayList = { data : yearsArray,targetId : "<@compId>_selectBoxYear"}
                C_UICOM.makeSelectBox(yearsArrayList, "single");
                C_UICOM.setSingleBox("<@compId>_selectBoxYear", dayjs().year());
                
                var startYearsArrayList = { data : yearsArray,targetId : "<@compId>_selectStartBoxYear"}
                C_UICOM.makeSelectBox(startYearsArrayList, "single");
                C_UICOM.setSingleBox("<@compId>_selectStartBoxYear", dayjs().year());
                
                // 월
                var monthList = C_COM.getCodeList("STORE_MONTH");
                
                var selectBoxMonthList = { 
                     data : monthList
                    ,targetId : "<@compId>_selectBoxMonth" 
                }
                C_UICOM.makeSelectBox(selectBoxMonthList, "single");
                
                var selectStartBoxMonthList = { 
                     data : monthList
                    ,targetId : "<@compId>_selectStartBoxMonth" 
                }
                C_UICOM.makeSelectBox(selectStartBoxMonthList, "single");
               
                
            }

            ,brandIdSet : (brandId) => {
                
                <@compId>.BRAND_ID = brandId;
                
                // 권역
                var regionList = C_COM.getBrandCodeList( brandId , "STORE_REGION");                
                var selectBoxRegionList = { 
                     defaultItem    : ["ALL", "전체"] 
                    ,data : regionList
                    ,targetId : "<@compId>_selectBoxRegion" 
                }
                C_UICOM.makeSelectBox(selectBoxRegionList, "single");
                <@compId>.region = "ALL";
                
                C_UICOM.addChangeListener("<@compId>_selectBoxRegion", function(dataObj) {
                    <@compId>.region = dataObj;
                    <@compId>.getSelectStore();
                });
                
                // 매장
                <@compId>.getSelectStore();
                
                // 슈퍼바이저
                var supervisorList = C_COM.getBrandCodeList( brandId , "SUPERVISOR");
                
                var selectBoxSupervisorList = {

                     defaultItem    : ["ALL", "전체"]
                    ,data : supervisorList
                    ,targetId : "<@compId>_selectBoxSupervisor" 
                }
                C_UICOM.makeSelectBox(selectBoxSupervisorList, "single");
                <@compId>.supervisor = "ALL";
                
                C_UICOM.addChangeListener("<@compId>_selectBoxSupervisor", function(dataObj) {
                    <@compId>.supervisor = dataObj;
                });
                
            }
            ,getSelectStore : () => {
                
                let requestParm = {};
                requestParm["spCstmId"] = G_VAL.session.spCstmId ;
                requestParm["brandId"]  = <@compId>.BRAND_ID ;
                requestParm["region"]   = <@compId>.region ;
                
                var parm1 = {
                        queryId  : "dashboardCorPerformance.getStore"
                       ,requestParm   : requestParm
                }
                
                C_COM.requestQuery(parm1, function(resultData) {
                    
                    const DATA = resultData.data.map( item => [ item.CODE_ID, item.CODE_NM ]);
                    
                    var selectBoxStoreList = {
                            defaultItem    : ["ALL", "전체"]
                           ,data : DATA
                           ,targetId : "<@compId>_selectBoxStore" 
                    }
                    
                    C_UICOM.makeSelectBox(selectBoxStoreList, "single");
                });
                
                C_UICOM.addChangeListener("<@compId>_selectBoxStore", function(dataObj) {
                    <@compId>.store = dataObj;
                });
            }

            
            ,setChart231 : (resultData) =>{

                let categoriesList = [];
                let salesList      = [];
                let goalSalesList  = [];
                
                for (var i=0; i< resultData.data.length; i++){
                    categoriesList[i] = resultData.data[i].STORE_NM3;
                    salesList[i]      = resultData.data[i].AMOUNT;
                    goalSalesList[i]  = resultData.data[i].AMOUNT_PREVIOUS;
                    
                }
                /* */
                $("#<@compId>_chart231").highcharts({
                   
                     chart: {
                            type: 'column'
                        },
                        title: {
                            text: '2023-03',
                            align: 'left'
                        },
                        subtitle: {
                            text: '',
                            align: 'left'
                        },
                        colors: ['#66ff00', '#0099ff'],
                        xAxis: {
                            categories: categoriesList,
                            crosshair: true,
                            accessibility: {
                                description: 'Countries'
                            }
                        },
                        yAxis: {
                            min: 0,
                            title: {
                                text: ''
                            }
                        },
                        tooltip: {
                            valueSuffix: ''
                        },
                        plotOptions: {
                            column: {
                                pointPadding: 0.2,
                                borderWidth: 0
                            }
                        },
                        series: [
                            {
                                name: '순매출액',
                                data: salesList
                            },
                            {
                                name: '전월금액',
                                data: goalSalesList
                            }
                        ]
                });
               
            }//setChart211
            
            /* 목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    */
            ,searchGoals1 : (  year, month, region, store, supervisor, brandId  ) => {
                
                let requestParm = {};            
                requestParm["year"]       = year;
                requestParm["month"]      = month;           
                requestParm["region"]     = region ;
                requestParm["store"]      = store ;
                requestParm["supervisor"] = supervisor ;
                requestParm["brandId"]    = brandId ;
                
                let parm = {
                     queryId        : "dashboardCorPerformance.getGoalAchieveRatio"
                    ,requestParm    : requestParm
                }
                C_COM.requestQuery(parm, function(resultData) {
                    for(var i =0; i < resultData.data.length; i++){
                        if( resultData.data[i] == null){
                            $('#<@compId>_goals1').text('No Data');
                        }else{
                            $('#<@compId>_goals1').text(resultData.data[i].ACHIEVE+'%');
                        }
                    }
                });
                
                let parm1 = {
                        queryId        : "dashboardCorPerformance.getTbRotationRatio"
                       ,requestParm    : requestParm
                }
                C_COM.requestQuery(parm1, function(resultData) {
                   for(var i =0; i < resultData.data.length; i++){
                       
                       if( resultData.data[i] == null){
                           $('#<@compId>_goals2').text('No Data');
                       }else{
                           $('#<@compId>_goals2').text(resultData.data[i].TB_ROTATION_GOAL+'%');
                       }
                       
                   }
                });

                let previousYear = Number(year)-1;
                
                requestParm["previousYear"]       = previousYear;
                
                let parm2 = {
                        queryId        : "dashboardCorPerformance.getGrowthRate"
                       ,requestParm    : requestParm
                }
                C_COM.requestQuery(parm2, function(resultData) {
                   for(var i =0; i < resultData.data.length; i++){
                       if( resultData.data[i] == null){
                           $('#<@compId>_goals3').text('No Data');
                       }else{
                           if( resultData.data[i].GROWTH_RATE == 0){
                               $('#<@compId>_goals3').text('No Data');
                           }else{
                               $('#<@compId>_goals3').text(resultData.data[i].GROWTH_RATE+'%');   
                           }
                       }
                   }
                });
                
            }            
            /* 목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    */
            ,searchChart11 : ( year, month, region, store, supervisor, brandId ) => {
                 
                 let requestParm = {};            
                 requestParm["year"]       = year;
                 requestParm["month"]      = month;           
                 requestParm["region"]     = region ;
                 requestParm["store"]      = store ;
                 requestParm["supervisor"] = supervisor ;
                 requestParm["spCstmId"]   = G_VAL.session.spCstmId ;
                 requestParm["brandId"]    = brandId ;

                 let parm = {
                      queryId        : "dashboardCorPerformance.getGoalAchieveRatioRank"
                     ,requestParm    : requestParm
                 }
                 C_COM.requestQuery(parm, function(resultData) {
                     
                     <@compId>.setChart11( resultData );
                 });
                
            }


            ,setChart11 : (resultData) =>{

                let storeNmArry = [];
                let achieveRatioArry = [];
                
                for(var i =0; i < resultData.data.length; i++){
                    if( i < 5){
                        storeNmArry[i]      = resultData.data[i].STORE_NM3;
                        achieveRatioArry[i] = resultData.data[i].ACHIEVE_RATIO;
                    }                
                }
                
                
                $('#<@compId>_chart11').highcharts({

                    chart: {
                        type: 'bar'
                    },


                    title: {
                        text: '목표대비 달성률'
                    },


                    xAxis: {
                        categories: storeNmArry,
                    },

                    yAxis: {
                        title: {
                            text: ''
                        }
                    },

                    tooltip: {
                        valueSuffix: '%'
                    },

                    plotOptions: {
                        bar: {
                            borderRadius: '50%',
                            dataLabels: {
                                enabled: true,
                                format: '{y}%'
                            },
                            groupPadding: 0.1
                        }
                    },

                    legend: {
                        enabled: false
                    },

                    series: [{
                        name: '',
                        data: achieveRatioArry
                    }]

                });
            }//setChart1
            /* 목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    목표대비 달성률    */
            
            /* 목표대비 테이블 회전률    목표대비 테이블 회전률    목표대비 테이블 회전률    목표대비 테이블 회전률    목표대비 테이블 회전률    */
            ,searchChart12 : ( year, month, region, store, supervisor, brandId  ) => {

                 let requestParm = {};            
                 requestParm["year"]       = year;
                 requestParm["month"]      = month;           
                 requestParm["region"]     = region ;
                 requestParm["store"]      = store ;
                 requestParm["supervisor"] = supervisor ;
                 requestParm["spCstmId"]   = G_VAL.session.spCstmId ;
                 requestParm["brandId"]    = brandId ;

                 let parm = {
                      queryId        : "dashboardCorPerformance.getTbRotationRatioRank"
                     ,requestParm    : requestParm
                 }
                 C_COM.requestQuery(parm, function(resultData) {
                     
                     <@compId>.setChart12( resultData );
                 });
                
            }
            ,setChart12 : (resultData) =>{

                let storeNmArry = [];
                let tbRotationRatioArry = [];
                
                for(var i =0; i < resultData.data.length; i++){
                    if( i < 5){
                        storeNmArry[i]      = resultData.data[i].STORE_NM3;
                        tbRotationRatioArry[i] = resultData.data[i].TB_ROTATION_RATIO;
                    }                
                }
                
                $('#<@compId>_chart12').highcharts({

                    chart: {
                        type: 'bar'
                    },


                    title: {
                        text: '목표대비 테이블 회전률'
                    },


                    xAxis: {
                        categories: storeNmArry,
                    },

                    yAxis: {
                        title: {
                            text: ''
                        }
                    },

                    tooltip: {
                        valueSuffix: '%'
                    },

                    plotOptions: {
                        bar: {
                            borderRadius: '50%',
                            dataLabels: {
                                enabled: true,
                                format: '{y}%'
                            },
                            groupPadding: 0.1
                        }
                    },

                    legend: {
                        enabled: false
                    },

                    series: [{
                        name: '',
                        data: tbRotationRatioArry
                    }]

                });
            }
            /* 목표대비 테이블 회전률    목표대비 테이블 회전률    목표대비 테이블 회전률    목표대비 테이블 회전률    목표대비 테이블 회전률    */
            
            
            /* 전월대비 달성률,테이블 회전률    전월대비 달성률,테이블 회전률    전월대비 달성률,테이블 회전률    전월대비 달성률,테이블 회전률    */
            ,searchPreMonth : (  year, month, region, store, supervisor, brandId  ) => {
                
                let prevYear  ;
                let prevMonth ;
                
                if( month == "01"){
                    prevYear   = Number(year)-1;
                    prevMonth  = "12";
                }else{
                    prevYear = year;
                    prevMonth = String(Number(month)-1).padStart(2, "0"); 
                }
                
                let requestParm = {};            
                requestParm["year"]       = year;
                requestParm["month"]      = month; 
                requestParm["prevYear"]   = prevYear;
                requestParm["prevMonth"]  = prevMonth;           
                requestParm["region"]     = region ;
                requestParm["store"]      = store ;
                requestParm["supervisor"] = supervisor ;
                requestParm["brandId"]    = brandId ;

                /* 달성률*/ 
                let parm = {
                     queryId        : "dashboardCorPerformance.getPreMonthAchieveRatio"
                    ,requestParm    : requestParm
                }
                C_COM.requestQuery(parm, function(resultData) {
                    for(var i =0; i < resultData.data.length; i++){
                        if( resultData.data[i] == null){
                            $('#<@compId>_preMonthAchieveRatio').text('No Data');
                        }else{
                            $('#<@compId>_preMonthAchieveRatio').text(resultData.data[i].PRE_MONTH_ACHIEVE_RATIO+'%');
                        }
                    }
                });
                
                /* 테이블 회전률*/ 
                let parm1 = {
                     queryId        : "dashboardCorPerformance.getPreMonthTbRotationRatio"
                    ,requestParm    : requestParm
                }
                C_COM.requestQuery(parm1, function(resultData) {
                    for(var i =0; i < resultData.data.length; i++){
                        if( resultData.data[i] == null){
                            $('#<@compId>_preMonthTbRotationRatio').text('No Data');
                        }else{
                            $('#<@compId>_preMonthTbRotationRatio').text(resultData.data[i].TB_ROTATION_RATIO+'%');
                        }
                    }
                });
                
                
            }
            /* 전월대비 달성률,테이블 회전률    전월대비 달성률,테이블 회전률    전월대비 달성률,테이블 회전률    전월대비 달성률,테이블 회전률    */
            
            /* 전월대비 달성률 챠트    전월대비 달성률 챠트    전월대비 달성률 챠트    전월대비 달성률 챠트    전월대비 달성률 챠트    전월대비 달성률 챠트    */
            ,searchChart21 : ( year, month, region, store, supervisor, brandId ) => {

                 let prevYear  ;
                 let prevMonth ;
                 
                 if( month == "01"){
                     prevYear   = Number(year)-1;
                     prevMonth  = "12";
                 }else{
                     prevYear = year;
                     prevMonth = String(Number(month)-1).padStart(2, "0"); 
                 }
                 
                 let requestParm = {};            
                 requestParm["year"]       = year;
                 requestParm["month"]      = month; 
                 requestParm["prevYear"]   = prevYear;
                 requestParm["prevMonth"]  = prevMonth;           
                 requestParm["region"]     = region ;
                 requestParm["store"]      = store ;
                 requestParm["supervisor"] = supervisor ;
                 requestParm["brandId"]    = brandId ;
                 
                 let parm = {
                      queryId        : "dashboardCorPerformance.getPreMonthAchieveRatioRank"
                     ,requestParm    : requestParm
                 }
                 C_COM.requestQuery(parm, function(resultData) {
                     <@compId>.setChart21( resultData );
                 });
                
            }


            ,setChart21 : (resultData) =>{

                let storeNmArry = [];
                let valueArry   = [];
                
                for(var i =0; i < resultData.data.length; i++){
                    if( i < 5){
                        storeNmArry[i]         = resultData.data[i].STORE_NM3;
                        valueArry[i] = resultData.data[i].PRE_MONTH_ACHIEV_RATIO;
                    }                
                }
                
                $('#<@compId>_chart21').highcharts({

                    chart: {
                        type: 'bar'
                    },


                    title: {
                        text: '전월대비 달성률'
                    },


                    xAxis: {
                        categories: storeNmArry,
                    },

                    yAxis: {
                        title: {
                            text: ''
                        }
                    },

                    tooltip: {
                        valueSuffix: '%'
                    },

                    plotOptions: {
                        bar: {
                            borderRadius: '50%',
                            dataLabels: {
                                enabled: true,
                                format: '{y}%'
                            },
                            groupPadding: 0.1
                        }
                    },

                    legend: {
                        enabled: false
                    },

                    series: [{
                        name: '',
                        data: valueArry
                    }]

                });
            }
            /* 전월대비 달성률 챠트    전월대비 달성률 챠트    전월대비 달성률 챠트    전월대비 달성률 챠트    전월대비 달성률 챠트    전월대비 달성률 챠트    */
            
            /* 전월대비 테이블회전률    전월대비 테이블회전률    전월대비 테이블회전률    전월대비 테이블회전률    전월대비 테이블회전률    */
            ,searchChart22 : (year, month, region, store, supervisor, brandId) => {
                 
                 let prevYear  ;
                 let prevMonth ;
                 
                 if( month == "01"){
                     prevYear   = Number(year)-1;
                     prevMonth  = "12";
                 }else{
                     prevYear = year;
                     prevMonth = String(Number(month)-1).padStart(2, "0"); 
                 }
                 
                 let requestParm = {};            
                 requestParm["year"]       = year;
                 requestParm["month"]      = month; 
                 requestParm["prevYear"]   = prevYear;
                 requestParm["prevMonth"]  = prevMonth;           
                 requestParm["region"]     = region ;
                 requestParm["store"]      = store ;
                 requestParm["supervisor"] = supervisor ;
                 requestParm["brandId"]    = brandId ;
                 

                 let parm = {
                      queryId        : "dashboardCorPerformance.getPreMonthTbRotationRatioRank"
                     ,requestParm    : requestParm
                 }
                 C_COM.requestQuery(parm, function(resultData) {
                     
                     <@compId>.setChart22( resultData );
                 });
                
            }


            ,setChart22 : (resultData) =>{

                let storeNmArry = [];
                let valueArry   = [];
                
                for(var i =0; i < resultData.data.length; i++){
                    if( i < 5){
                        storeNmArry[i]         = resultData.data[i].STORE_NM3;
                        valueArry[i] = resultData.data[i].TB_ROTATION_RATIO;
                    }                
                }
                
                $('#<@compId>_chart22').highcharts({

                    chart: {
                        type: 'bar'
                    },


                    title: {
                        text: '전월대비 테이블 회전률'
                    },


                    xAxis: {
                        categories: storeNmArry,
                    },

                    yAxis: {
                        title: {
                            text: ''
                        }
                    },

                    tooltip: {
                        valueSuffix: '%'
                    },

                    plotOptions: {
                        bar: {
                            borderRadius: '50%',
                            dataLabels: {
                                enabled: true,
                                format: '{y}%'
                            },
                            groupPadding: 0.1
                        }
                    },

                    legend: {
                        enabled: false
                    },

                    series: [{
                        name: '',
                        data: valueArry
                    }]

                });
            }
            /* 전월대비 테이블회전률    전월대비 테이블회전률    전월대비 테이블회전률    전월대비 테이블회전률    전월대비 테이블회전률    */
            
            /* 순매출액,목표금액    순매출액,목표금액    순매출액,목표금액    순매출액,목표금액    순매출액,목표금액    순매출액,목표금액    */
            ,searchChart31 : ( startYear, startMonth, endYear, endMonth, brandId ) => {

                let requestParm = {};            
                requestParm["startYear"]   = startYear;
                requestParm["startMonth"]  = startMonth;           
                requestParm["endYear"]     = endYear ;
                requestParm["endMonth"]    = endMonth ;
                requestParm["startDate"]   = startYear+"-"+startMonth+"-01";
                requestParm["endDate"]     = endYear+"-"+endMonth+"-01";
                requestParm["brandId"]     = brandId ;
                
                let parm = {
                     queryId        : "dashboardCorPerformance.SalesAndGoalSalesChartList"
                    ,requestParm    : requestParm
                }
                C_COM.requestQuery(parm, function(resultData) {
                    
                    <@compId>.setChart31( resultData );
                });
                
            }
            ,setChart31 : (resultData) =>{

                let categoriesList = [];
                let salesList      = [];
                let goalSalesList  = [];
                
                for (var i=0; i< resultData.data.length; i++){
                    categoriesList[i] = resultData.data[i].STORE_NM3;
                    salesList[i]      = resultData.data[i].SALES_MONTH;
                    goalSalesList[i]  = resultData.data[i].GOAL_MONTH;
                }
                
                $("#<@compId>_chart31").highcharts({
                   
                     chart: {
                            type: 'column'
                        },
                        title: {
                            text: '',
                            align: 'left'
                        },
                        subtitle: {
                            text: '',
                            align: 'left'
                        },
                        colors: ['#66ff00', '#0099ff'],
                        xAxis: {
                            categories: categoriesList,
                            crosshair: true,
                            accessibility: {
                                description: 'Countries'
                            }
                        },
                        yAxis: {
                            min: 0,
                            title: {
                                text: ''
                            }
                        },
                        tooltip: {
                            valueSuffix: ''
                        },
                        plotOptions: {
                            column: {
                                pointPadding: 0.2,
                                borderWidth: 0
                            }
                        },
                        series: [
                            {
                                name: '순매출액',
                                data: salesList
                            },
                            {
                                name: '목표금액',
                                data: goalSalesList
                            }
                        ]
                });
            }//setChart31
            /* 순매출액,목표금액    순매출액,목표금액    순매출액,목표금액    순매출액,목표금액    순매출액,목표금액    순매출액,목표금액    */
            
            /* 순매출액,전월금액    순매출액,전월금액    순매출액,전월금액    순매출액,전월금액    순매출액,전월금액    순매출액,전월금액    */
            ,searchChart32 : (year, month, brandId) => {

               

                let prevYear  ;
                let prevMonth ;
                
                if( month == "01"){
                    prevYear   = Number(year)-1;
                    prevMonth  = "12";
                }else{
                    prevYear = year;
                    prevMonth = String(Number(month)-1).padStart(2, "0"); 
                }
                
                let requestParm = {};            
                requestParm["year"]       = year;
                requestParm["month"]      = month; 
                requestParm["prevYear"]   = prevYear;
                requestParm["prevMonth"]  = prevMonth;
                requestParm["brandId"]    = brandId;
                
                var parm = {
                        queryId  : "dashboardCorPerformance.SalesAndPreMonthSales"
                       ,requestParm   : requestParm
                }
                
                C_COM.requestQuery(parm, function(resultData) {
                    <@compId>.setChart32( resultData );

                });
            }

            ,setChart32 : (resultData) =>{

                let categoriesList   = [];
                let netSalesList     = [];
                let netSalesPreList  = [];
                
                for (var i=0; i< resultData.data.length; i++){
                    categoriesList[i] = resultData.data[i].STORE_NM3;
                    netSalesList[i]      = resultData.data[i].NET_SALES;
                    netSalesPreList[i]  = resultData.data[i].NET_SALES_PRE;
                }
                
                $("#<@compId>_chart32").highcharts({

                    chart: {
                           type: 'column'
                       },
                       title: {
                           text: '',
                           align: 'left'
                       },
                       subtitle: {
                           text: '',
                           align: 'left'
                       },
                       colors: ['#66ff00', '#0099ff'],
                       xAxis: {
                           categories: categoriesList,
                           crosshair: true,
                           accessibility: {
                               description: 'Countries'
                           }
                       },
                       yAxis: {
                           min: 0,
                           title: {
                               text: ''
                           }
                       },
                       tooltip: {
                           valueSuffix: ''
                       },
                       plotOptions: {
                           column: {
                               pointPadding: 0.2,
                               borderWidth: 0
                           }
                       },
                       series: [
                           {
                               name: '순매출액',
                               data: netSalesList
                           },
                           {
                               name: '전월금액',
                               data: netSalesPreList
                           }
                       ]
                });
            }//setChart31
            /* 순매출액,전월금액    순매출액,전월금액    순매출액,전월금액    순매출액,전월금액    순매출액,전월금액    순매출액,전월금액    */
            
            ,setHandler : () => {
                
                $("#<@compId>_searchBtn1").click( () =>{
                    
                    /**/
                    let year        = C_UICOM.getData("<@compId>_selectBoxYear");
                    let month       = C_UICOM.getData('<@compId>_selectBoxMonth');
                    let region      = C_UICOM.getData('<@compId>_selectBoxRegion');
                    let store       = C_UICOM.getData('<@compId>_selectBoxStore');
                    let supervisor  = C_UICOM.getData('<@compId>_selectBoxSupervisor');
                    
                    var brandId     = <@parentId>.getParentBrandId();
                    if(brandId == undefined){
                        C_POP.alert("브랜드가 없습니다.");
                        return;
                    }
                    
                    <@compId>.searchGoals1( year, month, region, store, supervisor, brandId );
                    <@compId>.searchChart11( year, month, region, store, supervisor, brandId  );
                    <@compId>.searchChart12( year, month, region, store, supervisor, brandId  );
                    <@compId>.searchPreMonth( year, month, region, store, supervisor, brandId  );
                    <@compId>.searchChart21( year, month, region, store, supervisor, brandId  );
                    <@compId>.searchChart22( year, month, region, store, supervisor, brandId  );
                  
                    
                    
                })
                
                $("#<@compId>_searchBtn2").click( () =>{

                    let startYear      = C_UICOM.getData("<@compId>_selectStartBoxYear");
                    let startMonth     = C_UICOM.getData('<@compId>_selectStartBoxMonth');
                    let endYear        = null;//C_UICOM.getData("<@compId>_selectEndBoxYear");
                    let endMonth       = null;//C_UICOM.getData('<@compId>_selectEndBoxMonth');
                    var brandId        = <@parentId>.getParentBrandId();
                    if(brandId == undefined){
                        C_POP.alert("브랜드가 없습니다.");
                        return;
                    }
                    
                    <@compId>.searchChart31( startYear, startMonth, endYear, endMonth, brandId  );
                    <@compId>.searchChart32( startYear, startMonth, brandId  );
                })
            }
    }
    // Component Load가 완료된후 실행 된다.
    C_COMP.onLoadComp("<@compId>", function(data) {
        <@compId>.pageInit();
        <@compId>.setHandler();
    });
</script>

<div>
    <!--// 일별 매출 달성률 -->
    <!-- search area -->
    <div class="search_area plpr5">
        <div class="fl">
            <div class="select_box fl" style="width:132px">
                <div id="<@compId>_selectBoxYear" style="width:132px"></div>
            </div>
            <div class="select_box fl" style="width:132px">
                <div id="<@compId>_selectBoxMonth" style="width:132px"></div>
            </div>
            <span class="tit01 fl lh33">권역</span>
            <!-- 권역 선택 -->
            <div class="select_box fl" style="width:100px">
                <div id="<@compId>_selectBoxRegion" style="width:100px"></div>
            </div>
            <!-- 매장명 선택 -->
            <div class="select_box fl" style="width:170px">
                <div id="<@compId>_selectBoxStore" style="width:170px"></div>
            </div>   
            <span class="tit01 fl lh33">슈퍼바이저</span>
            <!-- 슈퍼바이저 선택 -->
            <div class="select_box fl" style="width:132px">
                 <div id="<@compId>_selectBoxSupervisor" style="width:132px"></div>
            </div>
            <button type="button" class="btn select fl" id="<@compId>_searchBtn1">조회</button>
        </div>
    </div>
    <section class="sec_wrap">
        <div class="cont_box">
            <div class="clearFix">
                <h3 class="fl">목표대비<!-- 목표대비 달성률 --></h3>
                <!-- 
                <a href="#modal-ex" class="btn fr">확대하기</a>
                 -->
            </div>
            <div class="goals_chart_wrap">
                <div class="goalsChart_item">
                    <h3>달성률</h3>
                    <div class="percent_wrap" id="<@compId>_goals1"></div>
                </div>
                <div class="goalsChart_item">
                    <div class="percent_small_wrap">
                        <h3>테이블 회전률</h3>
                        <div class="percent_wrap" id="<@compId>_goals2"></div>
                    </div>
                    <div class="percent_small_wrap">
                        <h3>전년 대비 성장률</h3>
                        <div class="percent_wrap" id="<@compId>_goals3"></div>
                    </div>
                </div>
                <div class="goalsChart_item">
                    <figure class="highcharts-figure2">
                        <div class="chart03_01" id="<@compId>_chart11" style="width:100%;height:280px;margin:0 auto">
                        </div>
                    </figure>
                </div>
                <div class="goalsChart_item">
                    <figure class="highcharts-figure2">
                        <div class="chart03_02" id="<@compId>_chart12" style="width:100%;height:280px;margin:0 auto">
                        </div>
                    </figure>
                </div>
            </div>
        </div>
    </section>

    <section class="sec_wrap">
        <div class="cont_box">
            <div class="clearFix">
                <h3 class="fl">전월대비<!-- 테이블 회전률 --></h3>
                <!--
                <a href="#modal-ex2" class="btn fr">확대하기</a>
                -->
            </div>
            <div class="goals_chart_wrap">
                <div class="goalsChart_item">
                    <h3>달성률</h3>
                    <div class="percent_wrap" id="<@compId>_preMonthAchieveRatio"></div>
                </div>
                <div class="goalsChart_item v2">
                    <h3>테이블 회전률</h3>
                    <div class="percent_wrap" id="<@compId>_preMonthTbRotationRatio"></div>
                </div>
                <div class="goalsChart_item">
                    <figure class="highcharts-figure2">
                        <div class="chart03_01" id="<@compId>_chart21" style="width:100%;height:280px;margin:0 auto">
                        </div>
                    </figure>
                </div>
                <div class="goalsChart_item">
                    <figure class="highcharts-figure2">
                        <div class="chart03_02" id="<@compId>_chart22" style="width:100%;height:280px;margin:0 auto">
                        </div>
                    </figure>
                </div>
            </div>
        </div>
    </section>
    <div class="search_area plpr5">
        <div class="fl">
            <div class="select_box fl" style="width:132px">
                <div id="<@compId>_selectStartBoxYear" style="width:132px"></div>
            </div>
            <div class="select_box fl" style="width:132px">
                <div id="<@compId>_selectStartBoxMonth" style="width:132px"></div>
            </div>
            <!-- 
            <div class="select_box fl" style="width:132px">
                <div id="<@compId>_selectEndBoxYear" style="width:132px"></div>
            </div>
            <div class="select_box fl" style="width:132px">
                <div id="<@compId>_selectEndBoxMonth" style="width:132px"></div>
            </div>
            -->
            <button type="button" class="btn select fl" id="<@compId>_searchBtn2">조회</button>
        </div>
    </div>
    
    <section class="sec_wrap">
        <div class="cont_box">
            <h3>매출 분석</h3>
            <figure class="highcharts-figure2">
                <div class="chart04_01" id="<@compId>_chart31" style="width:100%;height:332px;margin:0 auto">
                </div>
            </figure>
        </div>
    </section>
    <section class="sec_wrap">
        <div class="cont_box">
            <h3>매출 분석</h3>
            <figure class="highcharts-figure2">
                <div class="chart04_01" id="<@compId>_chart32" style="width:100%;height:332px;margin:0 auto">
                </div>
            </figure>
        </div>
    </section>
    <!-- 일별 매출 달성률 //-->
</div>


